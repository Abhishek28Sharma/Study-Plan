<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Smart Study Planner</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>

<body>
  <div class="container">
    <header>
      <div>
        <h1>📚 Smart Study Planner</h1>
        <div class="sub">Plan tasks, set reminders, and track progress with ease.</div>
      </div>
      <div class="controls">
        <button id="requestNotif" class="small btn ghost">Enable Notifications</button>

        <input id="fileInput" type="file" accept="application/json" style="display:none" />
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <h3 style="margin-top:0">➕ Add / Edit Task</h3>
        <form id="taskForm">
          <input type="hidden" id="taskId" />
          <label>Title</label>
          <input id="title" type="text" required placeholder="e.g. Revise Chapter 5" />

          <label>Description</label>
          <textarea id="description" placeholder="Notes, topics to cover"></textarea>

          <div style="display:flex;gap:12px">
            <div style="flex:1">
              <label>Start Date</label>
              <input id="startDate" type="date">
            </div>
            <div style="flex:1">
              <label>Due Date</label>
              <input id="dueDate" type="date">
            </div>
          </div>

          <div style="display:flex;gap:12px;margin-top:10px">
            <div style="flex:1">
              <label>Priority</label>
              <select id="priority">
                <option value="low">Low</option>
                <option value="medium" selected>Medium</option>
                <option value="high">High</option>
              </select>
            </div>
            <div style="width:140px">
              <label>Progress</label>
              <input id="progress" type="range" min="0" max="100" value="0">
            </div>
          </div>

          <div style="display:flex;gap:10px;margin-top:16px">
            <button type="submit" class="btn">Save Task</button>
            <button type="button" id="clearBtn" class="btn ghost">Clear</button>
          </div>
        </form>

        <div class="footer-note">Tip: Add both start & due dates to visualize tasks on the timeline. Notifications will
          remind you of upcoming tasks.</div>
      </section>

      <main>
        <section class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3 style="margin:0">📌 Tasks</h3>
            <div class="sub">Total: <span id="totalCount">0</span></div>
          </div>

          <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
            <button id="filterAll" class="small btn ghost">All</button>
            <button id="filterActive" class="small btn ghost">Active</button>
            <button id="filterComplete" class="small btn ghost">Completed</button>
            <input id="search" placeholder="🔍 Search tasks"
              style="flex:1;padding:8px;border-radius:8px;background:#fff;border:1px solid var(--border);color:inherit" />
          </div>

          <div class="tasks-list" id="tasksList"></div>
        </section>

        <section class="card" style="margin-top:16px">
          <h3 style="margin-top:0">📅 Timeline</h3>
          <div class="timeline-wrap">
            <canvas id="timelineCanvas" width="800" height="180"></canvas>
          </div>
        </section>
      </main>
    </div>
  </div>

</body>

</html>
